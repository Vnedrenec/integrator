# Адаптивный дизайн

В этом документе описывается подход к адаптивному дизайну платформы BPM Centr для обеспечения оптимального отображения на различных устройствах.

## Принципы адаптивного дизайна

### Mobile-first подход

Платформа BPM Centr разрабатывается с использованием подхода "Mobile-first", что означает:

1. **Приоритет мобильной версии** - дизайн начинается с мобильной версии, а затем расширяется для больших экранов
2. **Фокус на основном контенте** - в мобильной версии отображается только самый важный контент
3. **Прогрессивное улучшение** - функциональность постепенно расширяется с увеличением размера экрана
4. **Оптимизация производительности** - мобильная версия оптимизирована для быстрой загрузки и работы

### Гибкая сетка

Для создания адаптивного дизайна используется гибкая сетка:

1. **Относительные единицы** - использование относительных единиц измерения (%, em, rem) вместо фиксированных (px)
2. **12-колоночная сетка** - основа для всех макетов
3. **Автоматическое изменение количества колонок** - в зависимости от размера экрана
4. **Гибкие отступы** - отступы адаптируются к размеру экрана

### Гибкие изображения и медиа

Все изображения и медиа-контент адаптируются к размеру экрана:

1. **Максимальная ширина** - изображения не превышают ширину контейнера
2. **Сохранение пропорций** - изображения сохраняют свои пропорции
3. **Разные размеры** - для разных устройств загружаются изображения разного размера
4. **Оптимизация** - изображения оптимизированы для быстрой загрузки

### Медиа-запросы

Для адаптации макета под различные размеры экрана используются медиа-запросы:

```css
/* Мобильные устройства */
@media (max-width: 767px) {
  /* Стили для мобильных устройств */
}

/* Планшеты */
@media (min-width: 768px) and (max-width: 1023px) {
  /* Стили для планшетов */
}

/* Ноутбуки */
@media (min-width: 1024px) and (max-width: 1279px) {
  /* Стили для ноутбуков */
}

/* Десктопы */
@media (min-width: 1280px) {
  /* Стили для десктопов */
}
```

## Брейкпоинты

### Основные брейкпоинты

| Название | Размер | Описание |
|----------|--------|----------|
| xs | < 600px | Мобильные устройства в портретной ориентации |
| sm | 600px - 959px | Мобильные устройства в альбомной ориентации и планшеты в портретной ориентации |
| md | 960px - 1279px | Планшеты в альбомной ориентации и небольшие ноутбуки |
| lg | 1280px - 1919px | Ноутбуки и десктопы |
| xl | ≥ 1920px | Большие десктопы |

### Использование брейкпоинтов

Брейкпоинты используются для адаптации макета под различные размеры экрана:

```jsx
// Пример использования брейкпоинтов в React с Material-UI
import { Grid } from '@material-ui/core';

function ResponsiveGrid() {
  return (
    <Grid container spacing={2}>
      <Grid item xs={12} sm={6} md={4} lg={3} xl={2}>
        {/* Контент */}
      </Grid>
      {/* Другие элементы сетки */}
    </Grid>
  );
}
```

## Адаптация компонентов

### Навигация

#### Десктоп (≥ 1280px)

На десктопах навигация представлена в виде:

1. **Верхняя панель** - содержит логотип, основную навигацию и профиль пользователя
2. **Боковая панель** - содержит навигацию по разделам
3. **Полное меню** - все пункты меню видны

```
+----------------------------------------------------------------------+
| [Логотип] [Главная] [Коннекторы] [Цены] [Документация] [Профиль ▼]   |
+----------------------------------------------------------------------+
|                                                                      |
| +----------------+  +-----------------------------------------------+ |
| | [Дашборд]     |  | Контент                                        | |
| | [Коннекторы]   |  |                                               | |
| | [Подписки]     |  |                                               | |
| | [API-ключи]     |  |                                               | |
| | [Аналитика]    |  |                                               | |
| | [Профиль]      |  |                                               | |
| | [Поддержка]    |  |                                               | |
| +----------------+  +-----------------------------------------------+ |
|                                                                      |
+----------------------------------------------------------------------+
```

#### Планшет (768px - 1279px)

На планшетах навигация адаптируется:

1. **Верхняя панель** - содержит логотип, основную навигацию и профиль пользователя
2. **Сворачиваемая боковая панель** - может быть свернута для увеличения пространства для контента
3. **Компактное меню** - некоторые пункты меню могут быть скрыты в выпадающем меню

```
+----------------------------------------------------------------------+
| [Логотип] [Главная] [Коннекторы] [Еще ▼] [Профиль ▼]                 |
+----------------------------------------------------------------------+
|                                                                      |
| +----------------+  +-----------------------------------------------+ |
| | [≡]           |  | Контент                                        | |
| | [Дашборд]     |  |                                               | |
| | [Коннекторы]   |  |                                               | |
| | [Подписки]     |  |                                               | |
| | [API-ключи]     |  |                                               | |
| | [Аналитика]    |  |                                               | |
| | [Профиль]      |  |                                               | |
| | [Поддержка]    |  |                                               | |
| +----------------+  +-----------------------------------------------+ |
|                                                                      |
+----------------------------------------------------------------------+
```

#### Мобильный (< 768px)

На мобильных устройствах навигация максимально упрощается:

1. **Верхняя панель** - содержит логотип, кнопку меню и профиль пользователя
2. **Меню-бургер** - все пункты меню скрыты в выпадающем меню, которое открывается по нажатию на кнопку меню
3. **Полноэкранное меню** - при открытии меню оно занимает весь экран

```
+----------------------------------------------------------------------+
| [≡] [Логотип]                                        [Профиль ▼]     |
+----------------------------------------------------------------------+
|                                                                      |
| Контент                                                              |
|                                                                      |
|                                                                      |
|                                                                      |
|                                                                      |
|                                                                      |
|                                                                      |
|                                                                      |
|                                                                      |
+----------------------------------------------------------------------+

При открытии меню:

+----------------------------------------------------------------------+
| [✕] [Логотип]                                                        |
+----------------------------------------------------------------------+
|                                                                      |
| [Дашборд]                                                           |
| [Коннекторы]                                                         |
| [Подписки]                                                           |
| [API-ключи]                                                           |
| [Аналитика]                                                          |
| [Профиль]                                                            |
| [Поддержка]                                                          |
| [Выход]                                                              |
|                                                                      |
+----------------------------------------------------------------------+
```

### Таблицы

#### Десктоп (≥ 1280px)

На десктопах таблицы отображаются полностью:

1. **Все столбцы** - видны все столбцы таблицы
2. **Фиксированная ширина** - столбцы имеют фиксированную ширину
3. **Пагинация** - для больших таблиц используется пагинация

```
+----------------------------------------------------------------------+
| Название | Категория | Статус | Подписки | Действия                   |
+----------------------------------------------------------------------+
| Коннектор 1 | CRM | Активен | 45 | [Редактировать] [Удалить]         |
| Коннектор 2 | Email | Активен | 30 | [Редактировать] [Удалить]       |
| Коннектор 3 | SMS | Отключен | 10 | [Редактировать] [Удалить]        |
+----------------------------------------------------------------------+
| [Предыдущая] 1 2 3 ... 10 [Следующая]                                |
+----------------------------------------------------------------------+
```

#### Планшет (768px - 1279px)

На планшетах таблицы адаптируются:

1. **Горизонтальная прокрутка** - для таблиц с большим количеством столбцов
2. **Скрытие некоторых столбцов** - некоторые столбцы могут быть скрыты
3. **Адаптивная ширина** - столбцы адаптируются к ширине экрана

```
+----------------------------------------------------------------------+
| Название | Категория | Статус | Действия                             |
+----------------------------------------------------------------------+
| Коннектор 1 | CRM | Активен | [Редактировать] [Удалить]             |
| Коннектор 2 | Email | Активен | [Редактировать] [Удалить]           |
| Коннектор 3 | SMS | Отключен | [Редактировать] [Удалить]            |
+----------------------------------------------------------------------+
| [Предыдущая] 1 2 3 [Следующая]                                       |
+----------------------------------------------------------------------+
```

#### Мобильный (< 768px)

На мобильных устройствах таблицы преобразуются в карточки:

1. **Карточный вид** - каждая строка таблицы преобразуется в карточку
2. **Вертикальное расположение** - данные располагаются вертикально
3. **Все данные** - отображаются все данные, но в другом формате

```
+----------------------------------------------------------------------+
| Коннектор 1                                                          |
| Категория: CRM                                                       |
| Статус: Активен                                                      |
| Подписки: 45                                                         |
| [Редактировать] [Удалить]                                            |
+----------------------------------------------------------------------+
| Коннектор 2                                                          |
| Категория: Email                                                     |
| Статус: Активен                                                      |
| Подписки: 30                                                         |
| [Редактировать] [Удалить]                                            |
+----------------------------------------------------------------------+
| [Загрузить еще]                                                      |
+----------------------------------------------------------------------+
```

### Формы

#### Десктоп (≥ 1280px)

На десктопах формы могут быть многоколоночными:

1. **Многоколоночная компоновка** - поля могут располагаться в несколько колонок
2. **Группировка полей** - поля группируются по смыслу
3. **Горизонтальные лейблы** - лейблы могут располагаться слева от полей

```
+----------------------------------------------------------------------+
| Личные данные                                                        |
+----------------------------------------------------------------------+
| Имя:           [                    ] Фамилия:     [                ] |
| Email:         [                    ] Телефон:     [                ] |
| Компания:      [                    ] Должность:   [                ] |
+----------------------------------------------------------------------+
| Адрес                                                                |
+----------------------------------------------------------------------+
| Страна:        [                    ] Город:       [                ] |
| Улица:         [                    ] Дом:         [                ] |
| Индекс:        [                    ]                                 |
+----------------------------------------------------------------------+
| [Сохранить] [Отмена]                                                 |
+----------------------------------------------------------------------+
```

#### Планшет (768px - 1279px)

На планшетах формы адаптируются:

1. **Уменьшение количества колонок** - меньше колонок, чем на десктопе
2. **Сохранение группировки** - группировка полей сохраняется
3. **Адаптивные лейблы** - лейблы могут располагаться над полями

```
+----------------------------------------------------------------------+
| Личные данные                                                        |
+----------------------------------------------------------------------+
| Имя:                                                                 |
| [                                                                  ] |
| Фамилия:                                                             |
| [                                                                  ] |
| Email:                                                               |
| [                                                                  ] |
| Телефон:                                                             |
| [                                                                  ] |
+----------------------------------------------------------------------+
| [Сохранить] [Отмена]                                                 |
+----------------------------------------------------------------------+
```

#### Мобильный (< 768px)

На мобильных устройствах формы становятся одноколоночными:

1. **Одна колонка** - все поля располагаются в одну колонку
2. **Вертикальные лейблы** - лейблы располагаются над полями
3. **Полная ширина** - поля занимают всю доступную ширину

```
+----------------------------------------------------------------------+
| Личные данные                                                        |
+----------------------------------------------------------------------+
| Имя:                                                                 |
| [                                                                  ] |
| Фамилия:                                                             |
| [                                                                  ] |
| Email:                                                               |
| [                                                                  ] |
| Телефон:                                                             |
| [                                                                  ] |
| Компания:                                                            |
| [                                                                  ] |
| Должность:                                                           |
| [                                                                  ] |
+----------------------------------------------------------------------+
| [Сохранить]                                                          |
| [Отмена]                                                             |
+----------------------------------------------------------------------+
```

## Тестирование адаптивного дизайна

### Устройства для тестирования

Адаптивный дизайн тестируется на следующих устройствах:

1. **Мобильные телефоны** - iPhone SE, iPhone X, iPhone 12, Samsung Galaxy S10, Samsung Galaxy S21
2. **Планшеты** - iPad, iPad Pro, Samsung Galaxy Tab
3. **Ноутбуки** - MacBook Air, MacBook Pro, Dell XPS
4. **Десктопы** - различные мониторы с разным разрешением

### Браузеры для тестирования

Адаптивный дизайн тестируется в следующих браузерах:

1. **Chrome** - последние 2 версии
2. **Firefox** - последние 2 версии
3. **Safari** - последние 2 версии
4. **Edge** - последние 2 версии

### Инструменты для тестирования

Для тестирования адаптивного дизайна используются следующие инструменты:

1. **Chrome DevTools** - эмуляция различных устройств
2. **BrowserStack** - тестирование на реальных устройствах
3. **Responsively** - тестирование на нескольких устройствах одновременно
4. **Lighthouse** - проверка производительности и доступности

## Рекомендации по разработке

### Общие рекомендации

1. **Используйте относительные единицы** - %, em, rem вместо px
2. **Тестируйте на реальных устройствах** - эмуляторы не всегда точно отображают реальное поведение
3. **Оптимизируйте изображения** - используйте разные размеры изображений для разных устройств
4. **Минимизируйте использование медиа-запросов** - используйте гибкую сетку и относительные единицы
5. **Учитывайте сенсорные устройства** - увеличивайте размер интерактивных элементов для сенсорных устройств

### Рекомендации по CSS

1. **Используйте Flexbox и Grid** - для создания гибких макетов
2. **Используйте CSS-переменные** - для единообразия и удобства поддержки
3. **Минимизируйте использование абсолютного позиционирования** - оно может нарушить адаптивность
4. **Используйте min-width и max-width** - для контроля размеров элементов
5. **Используйте clamp()** - для адаптивной типографики

### Рекомендации по JavaScript

1. **Используйте feature detection** - вместо определения устройства
2. **Оптимизируйте производительность** - мобильные устройства имеют ограниченные ресурсы
3. **Минимизируйте использование JavaScript** - для адаптивного дизайна
4. **Используйте lazy loading** - для изображений и других ресурсов
5. **Тестируйте на медленных соединениях** - мобильные устройства могут иметь медленное соединение

## Примеры адаптивного дизайна

### Пример адаптивной сетки

```jsx
// Пример адаптивной сетки в React с Material-UI
import { Grid, Card, CardContent, Typography } from '@material-ui/core';

function AdaptiveGrid() {
  return (
    <Grid container spacing={2}>
      <Grid item xs={12} sm={6} md={4} lg={3}>
        <Card>
          <CardContent>
            <Typography variant="h5">Карточка 1</Typography>
            <Typography variant="body1">Содержимое карточки</Typography>
          </CardContent>
        </Card>
      </Grid>
      <Grid item xs={12} sm={6} md={4} lg={3}>
        <Card>
          <CardContent>
            <Typography variant="h5">Карточка 2</Typography>
            <Typography variant="body1">Содержимое карточки</Typography>
          </CardContent>
        </Card>
      </Grid>
      <Grid item xs={12} sm={6} md={4} lg={3}>
        <Card>
          <CardContent>
            <Typography variant="h5">Карточка 3</Typography>
            <Typography variant="body1">Содержимое карточки</Typography>
          </CardContent>
        </Card>
      </Grid>
      <Grid item xs={12} sm={6} md={4} lg={3}>
        <Card>
          <CardContent>
            <Typography variant="h5">Карточка 4</Typography>
            <Typography variant="body1">Содержимое карточки</Typography>
          </CardContent>
        </Card>
      </Grid>
    </Grid>
  );
}
```

### Пример адаптивной навигации

```jsx
// Пример адаптивной навигации в React с Material-UI
import { useState } from 'react';
import { AppBar, Toolbar, IconButton, Typography, Drawer, List, ListItem, ListItemText, Hidden } from '@material-ui/core';
import MenuIcon from '@material-ui/icons/Menu';

function AdaptiveNavigation() {
  const [drawerOpen, setDrawerOpen] = useState(false);

  const toggleDrawer = () => {
    setDrawerOpen(!drawerOpen);
  };

  const menuItems = [
    { text: 'Дашборд', path: '/dashboard' },
    { text: 'Коннекторы', path: '/connectors' },
    { text: 'Подписки', path: '/subscriptions' },
    { text: 'API-ключи', path: '/api-keys' },
    { text: 'Аналитика', path: '/analytics' },
    { text: 'Профиль', path: '/profile' },
    { text: 'Поддержка', path: '/support' },
  ];

  const drawer = (
    <List>
      {menuItems.map((item) => (
        <ListItem button key={item.text}>
          <ListItemText primary={item.text} />
        </ListItem>
      ))}
    </List>
  );

  return (
    <>
      <AppBar position="static">
        <Toolbar>
          <Hidden mdUp>
            <IconButton edge="start" color="inherit" aria-label="menu" onClick={toggleDrawer}>
              <MenuIcon />
            </IconButton>
          </Hidden>
          <Typography variant="h6">BPM Centr</Typography>
          <Hidden smDown>
            <div style={{ marginLeft: 'auto' }}>
              {menuItems.map((item) => (
                <Button color="inherit" key={item.text}>
                  {item.text}
                </Button>
              ))}
            </div>
          </Hidden>
        </Toolbar>
      </AppBar>
      <Hidden mdUp>
        <Drawer anchor="left" open={drawerOpen} onClose={toggleDrawer}>
          {drawer}
        </Drawer>
      </Hidden>
      <Hidden smDown>
        <div style={{ display: 'flex' }}>
          <div style={{ width: 240 }}>
            {drawer}
          </div>
          <div style={{ flexGrow: 1, padding: 16 }}>
            {/* Контент */}
          </div>
        </div>
      </Hidden>
    </>
  );
}
```

### Пример адаптивной таблицы

```jsx
// Пример адаптивной таблицы в React с Material-UI
import { useMediaQuery, useTheme, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Card, CardContent, Typography, Grid } from '@material-ui/core';

function AdaptiveTable() {
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('xs'));

  const data = [
    { id: 1, name: 'Коннектор 1', category: 'CRM', status: 'Активен', subscriptions: 45 },
    { id: 2, name: 'Коннектор 2', category: 'Email', status: 'Активен', subscriptions: 30 },
    { id: 3, name: 'Коннектор 3', category: 'SMS', status: 'Отключен', subscriptions: 10 },
  ];

  if (isMobile) {
    return (
      <Grid container spacing={2}>
        {data.map((row) => (
          <Grid item xs={12} key={row.id}>
            <Card>
              <CardContent>
                <Typography variant="h6">{row.name}</Typography>
                <Typography variant="body2">Категория: {row.category}</Typography>
                <Typography variant="body2">Статус: {row.status}</Typography>
                <Typography variant="body2">Подписки: {row.subscriptions}</Typography>
              </CardContent>
            </Card>
          </Grid>
        ))}
      </Grid>
    );
  }

  return (
    <TableContainer component={Paper}>
      <Table>
        <TableHead>
          <TableRow>
            <TableCell>Название</TableCell>
            <TableCell>Категория</TableCell>
            <TableCell>Статус</TableCell>
            <TableCell>Подписки</TableCell>
          </TableRow>
        </TableHead>
        <TableBody>
          {data.map((row) => (
            <TableRow key={row.id}>
              <TableCell>{row.name}</TableCell>
              <TableCell>{row.category}</TableCell>
              <TableCell>{row.status}</TableCell>
              <TableCell>{row.subscriptions}</TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </TableContainer>
  );
}
```
